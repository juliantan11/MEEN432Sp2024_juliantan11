The longitudinal simulation model created was cordinated with a simple driver to drive the vehicle for both the EPA Urban and Highway cycles provided. A powertrain subsystem was integrated into this model with an electric motor subsystem and a single speed transmission. The energy consumed by this system can be seen after the simulation is run as simout.MotorEnergy. The power generated by this system can also be seen in the simout data as simout.MotorPower. A battery system was then applied to the model as well as a regenerative braking application. Lastly, the code outputs a graph of the simulation drive data versus the real drive data from the EPA drive schedules. 
To run our code and model, the first thing that must be done is downloading the matlab filed "Finalinit", "DriveCycleinit", and "Project3_Final_Retry". The simulink model "Project3_Final_Retry_" must then be downloaded. The first object to run is the "Finalinit" initialization file. Next the drive schedules must be initialized by running the "DriveCycleinit" file. Lastly the "Project3_Final_Retry" file must be run and this will output all of the graphs for the drive schedules and the data from the simulation.

## Project 3 Resubmission Feedback (39 -> 55 / 85)

### Driver Model
The way the regen lock was implemented was very close to the correct way. The regen percentage was 10% which was done properly, but the team forgot to multiply the BPP by the regen so that only 10% of the BPP went into the APP block. 
- regen = 0.1 * bpp;
- bpp_w_regen = bpp -regen;

### Transmission
Just one small mistake here, the wheel_inertia variable should be equal to the motor_inertia multiplied by the gear ratio squared, not the other way around.

### Brake Model
There are a few things regarding logic that is missing from the brake model. It is not super significant that it would completely ruin the simulation but I still want to add how the logic should be so that the team gains a better understanding. The brake model should have two modes: Locked and Unlocked.
- The brake is considered to be in the Locked state when the brake%cmd == 0, so Tb = -Tw (or Tw, depends on the sign of brake%cmd)
- The brake is considered to be in the Unlocked state when brake%cmd does not == 0, so Tb = - brake%cmd * Nb,max * (Ww/(abs(Ww) + 0.001)), where Nbmax is the calibratable gain value 10000, and Ww is the angular velocity of the wheel (might be positive, again depends on sign of brake%cmd)

Good job on getting those changes made team! I know that you are getting feedback late with the project 4 deadline coming close so if there are any questions feel free to email and I'll do my best to help!
